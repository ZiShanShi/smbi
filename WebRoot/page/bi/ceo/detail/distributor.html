<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>经销商管理</title>
    <script type="text/javascript" src="../../../../js/jquery1.8.min.js"></script>
    <script type="text/javascript" src="../../../../js/echarts.min.js"></script>
    <style>
        .halfleftbottom {
            margin: 1rem;
            background: #fff;
            box-shadow:0 0 1rem #f3f3f3 ;
            position: absolute;
            width: 98%;
            height: 43%;
            left: 0;
            bottom: 0;
            padding: 5px;
        }
         
        .halflefttop{
            margin: 1rem;
            background: #fff;
            box-shadow:0 0 1rem #f3f3f3 ;
            position: absolute;
            width: 56%;
            height: 50%;
            left: 0;
            top: 0;
            padding: 5px;
        }
        .halfrighttop{
            margin: 1rem;
            background: #fff;
            box-shadow:0 0 1rem #f3f3f3 ;
            position: absolute;
            width: 40%;
            height: 50%;
            right: 0;
            top: 0;
            padding: 5px;
        }
    </style>
</head>

<script>
    // Generate data
    var dataWest = [], dataEast = [], dataNorthEast = [], dataSouthEast = [], dataSouth = [];
    for (var i = 0; i < 15; i++) {
        var onewest = [];
        onewest[0] = Math.random() * 200;
        onewest[1] = Math.random() * 200;
        onewest[2] = Math.random() * 200;
        onewest[3] = Math.random() * 200;
        onewest[4] = 'West经销商' + i;
        dataWest.push(onewest);

        var oneeast = [];
        oneeast[4] = 'East经销商' + i;
        oneeast[1] = Math.random() * 200;
        oneeast[2] = Math.random() * 200;
        oneeast[3] = Math.random() * 200
        oneeast[0] = Math.random() * 200
        dataEast.push(oneeast);

        var oneSouth = [];
        oneSouth[4] = 'South经销商' + i;
        oneSouth[1] = Math.random() * 200;
        oneSouth[2] = Math.random() * 200;
        oneSouth[3] = Math.random() * 200;
        oneSouth[0] = Math.random() * 200;
        dataSouth.push(oneSouth);

        var oneNorthEast = [];
        oneNorthEast[4] = 'NorthEast经销商' + i;
        oneNorthEast[1] = Math.random() * 200;
        oneNorthEast[2] = Math.random() * 200;
        oneNorthEast[3] = Math.random() * 200;
        oneNorthEast[0] = Math.random() * 200;
        dataNorthEast.push(oneNorthEast);

        var oneSouthEast = [];
        oneSouthEast[4] = 'SouthEast经销商' + i;
        oneSouthEast[1] = Math.random() * 200;
        oneSouthEast[2] = Math.random() * 200;
        oneSouthEast[3] = Math.random() * 200;
        oneSouthEast[0] = Math.random() * 200;
        dataSouthEast.push(oneSouthEast);
    }

    var schema = [
        {name: 'distributor', index: 0, text: '经销商'},
        {name: 'intorydays', index: 1, text: '库存天数'},
        {name: 'sale', index: 2, text: '经销商销售'},
        {name: 'account', index: 3, text: '经销商账期'},

    ];


    var itemStyle = {
        normal: {
            opacity: 0.8,
            shadowBlur: 10,
            shadowOffsetX: 0,
            shadowOffsetY: 0,
            shadowColor: 'rgba(0, 0, 0, 0.5)'
        }
    };
    var scatterOption = {
        color: [
            "#fc97af",
            "#87f7cf",
            "#f7f494",
            "#72ccff",
            "#f7c5a0",
            "#d4a4eb",
            "#d2f5a6",
            "#76f2f2"
        ],
        legend: {
            y: 'top',
            data: ['West', 'East', 'NorthEast', 'SouthEast', 'South'],
            textStyle: {
                color: '#000',
                fontSize: 16
            }
        },
        grid: {

        },
        tooltip: {
            padding: 10,
            backgroundColor: '#222',
            borderColor: '#777',
            borderWidth: 1,
            formatter: function (obj) {
                var value = obj.value;
                return '<div style="border-bottom: 1px solid rgba(255,255,255,.3); font-size: 18px;padding-bottom: 7px;margin-bottom: 7px">'
                    + obj.seriesName + ': ' + value[4]
                    + '</div>'
                    + schema[1].text + '：' + value[0] + '<br>'
                    + schema[2].text + '：' + value[1] + '<br>'
                    + schema[3].text + '：' + value[2] + '<br>';
            }
        },
        xAxis: {
            type: 'value',
            name: '平均账期',
            nameGap: 16,
            nameTextStyle: {
                color: '#000',
                fontSize: 14
            },

            splitLine: {
                show: false
            },
            axisLine: {
                lineStyle: {
                    color: '#000'
                }
            }
        },
        yAxis: {
            type: 'value',
            name: '销售额',
            nameLocation: 'end',
            nameGap: 20,
            nameTextStyle: {
                color: '#000',
                fontSize: 16
            },
            axisLine: {
                lineStyle: {
                    color: '#000'
                }
            },
            splitLine: {
                show: false
            }
        },
        visualMap: [
            {
                left: 'right',
                top: '10%',
                dimension: 2,
                min: 0,
                max: 250,
                itemWidth: 30,
                itemHeight: 120,
                calculable: true,
                precision: 0.1,
                text: ['圆形大小：库存天数'],
                textGap: 30,
                textStyle: {
                    color: '#000'
                },
                inRange: {
                    symbolSize: [10, 70]
                },
                outOfRange: {
                    symbolSize: [10, 70],
                    color: ['rgba(255,255,255,.2)']
                },
                controller: {
                    inRange: {

                    },
                    outOfRange: {
                        color: ['#444']
                    }
                }
            }],
       toolbox: {        show: true,        feature: {            saveAsImage: {}        }    },series: [
            {
                name: 'West',
                type: 'scatter',
                itemStyle: itemStyle,
                data: dataWest
            },
            {
                name: 'South',
                type: 'scatter',
                itemStyle: itemStyle,
                data: dataSouth
            }
            ,{
                name: 'SouthEast',
                type: 'scatter',
                itemStyle: itemStyle,
                data: dataSouthEast
            },{
                name: 'NorthEast',
                type: 'scatter',
                itemStyle: itemStyle,
                data: dataNorthEast
            },{
                name: 'East',
                type: 'scatter',
                itemStyle: itemStyle,
                data: dataEast
            }
        ]

    };
    //----------------------------------------------------


    var distributordata = ['北京德诺康贸易有限公司', '合肥和奥医疗器械有限公司', '山东瑞康德一医疗器械有限公司', '安徽明悦医疗科技有限公司', '吉林省圣诺商贸有限公司', '内蒙古金晟博医疗器械有限公司'];
    var accountdata = [1.5,4.2,5,2,5.2,3.4];
    var inventorydata  = [15,42,5,2,2,34];
    inventorydata.sort(function (a, b) {
        return a - b;
    });
    accountdata.sort(function (a, b) {
        return a - b;
    });
    var category = [];
    var lineData = [];
    var barData1 = [];
    var barData2 = [];
    for (var i = 1; i <= 12; i++) {

        category.push(i + '月');
        // if (i<=10&&i>=1){
        //     category.push(i);
        // }
        var b = Math.random() * 200;
        var d = Math.random() * (-200);
        var c = (Math.random() - 0.4) * (100);
        barData1.push(b);
        barData2.push(d);
        lineData.push(c);
    }

    var compareoption = {
        title: {
            text: '经销商月度进销对比',
            textStyle:{
                color:'#fff',

            },
            left:'5%'
        },
        tooltip: {
            trigger: 'axis',
            axisPointer: {
                type: 'shadow',
                label: {
                    show: true,
                    backgroundColor: '#333'
                }
            }
        },
        legend: {
            data: ['sellin','sellout'],
            textStyle: {
                color: '#ccc'
            }
        },
        xAxis: {
            type: 'category',
            data: category,
            axisTick: {
                alignWithLabel: true
            },

            splitLine: {
                show: false,

            },
            axisLabel:{
                //fontWeight:10,
                //interval:2,
                fontsize:2,
                align:'center',
                color:'rgba(255,255,255,0.3)'
            }
        },
        yAxis: [{
            type: 'value',
            splitLine: {
                show: true,
                lineStyle:{
                    color:'rgba(255,255,255,0.2)'
                }
            },
            axisLine:{
                show:false
            },
            axisLabel:{

                fontWeight:10,
                fontsize:5,
                color:'rgba(255,255,255,0.3)'
            }

        }],
       toolbox: {        show: true,        feature: {            saveAsImage: {}        }    },series: [{
            name: 'sellin',
            type: 'bar',
            stack: '总量',
            barWidth: 10,
            itemStyle: {
                normal: {
                    barBorderRadius: 50,
                    color: new echarts.graphic.LinearGradient(
                        0, 0, 0, 1,
                        [
                            {offset: 0, color: '#BC34BC'},
                            {offset: 1, color: '#7F3594'}
                        ]
                    )
                }
            },
            data: barData1
        },{
            name: 'sellout',
            type: 'bar',
            stack: '总量',
            barWidth: 10,
            itemStyle: {
                normal: {
                    barBorderRadius: 50,
                    color: new echarts.graphic.LinearGradient(
                        0, 0, 0, 1,
                        [
                            {offset: 0, color: '#4740C8'},
                            {offset: 1, color: '#EF71FF'}
                        ]
                    )
                }
            },
            data: barData2
        }]
    };

    var inventoryoption = {
        title: {
            text: '经销商月度库存实际/预计对比',
            textStyle:{
                color:'#fff',

            },
            left:'5%'
        },
        tooltip: {
            trigger: 'axis',
            axisPointer: {
                type: 'shadow',
                label: {
                    show: true,
                    backgroundColor: '#333'
                }
            }
        },
        legend: {
            data: ['预计库存','实际库存','差异比'],
            textStyle: {
                color: '#ccc'
            }
        },
        xAxis: {
            type: 'category',
            data: category,
            axisTick: {
                alignWithLabel: true
            },
            splitLine: {
                show: false,

            },
            axisLabel:{
                //fontWeight:10,
                //interval:2,
                fontsize:2,
                align:'center',
                color:'rgba(255,255,255,0.3)'
            }
        },
        yAxis: [{
            type: 'value',
            splitLine: {
                show: true,
                lineStyle:{
                    color:'rgba(255,255,255,0.2)'
                }
            },
            axisLine:{
                show:false
            },
            axisLabel:{

                fontWeight:10,
                fontsize:5,
                color:'rgba(255,255,255,0.3)'
            }

        }],
       toolbox: {        show: true,        feature: {            saveAsImage: {}        }    },series: [{
            name: '预计库存',
            type: 'bar',
            stack: '总量',
            barWidth: 10,
            itemStyle: {
                normal: {
                    barBorderRadius: 50,
                    color: new echarts.graphic.LinearGradient(
                        0, 0, 0, 1,
                        [
                            {offset: 0, color: '#00a2ff'},
                            {offset: 1, color: '#70ffac'}
                        ]
                    )
                }
            },
            data: barData1
        },{
            name: '实际库存',
            type: 'bar',
            stack: '总量',
            barWidth: 10,
            itemStyle: {
                normal: {
                    barBorderRadius: 50,
                    color: new echarts.graphic.LinearGradient(
                        0, 0, 0, 1,
                        [
                            {offset: 0, color: '#70ff'},
                            {offset: 1, color: '#EF71FF'}
                        ]
                    )
                }
            },
            data: barData2
        },
            {
                name: '差异比',
                type: 'line',

                barWidth: 10,
                itemStyle: {
                    normal: {
                        barBorderRadius: 50,
                        color: new echarts.graphic.LinearGradient(
                            0, 0, 0, 1,
                            [
                                {offset: 0, color: '#70ff'},
                                {offset: 1, color: '#EF71FF'}
                            ]
                        )
                    }
                },
                data: lineData
            }]
    };

    var achieveoption = {
        tooltip: {
            trigger: 'axis',
            axisPointer: {
                lineStyle: {
                    color: '#57617B'
                }
            }
        },
        grid: {
            left: '10%',
            right: '10%',
            bottom: '30%',
            top: '28%',
            containLabel: true
        },
        xAxis: [
            {
                type: 'category',
                boundaryGap: false,
                axisLine: {
                    lineStyle: {
                        color: '#0E2A43'
                    }
                },
                axisLabel: {
                    margin: 10,
                    textStyle: {
                        fontSize: 14,
                        color: '#D5CBE8'
                    }
                },
                axisTick: {
                    show: false
                },
                data: ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月']
            }, {
                axisPointer: {
                    show: false
                },
                axisLine: {
                    lineStyle: {
                        color: '#0E2A43'
                    }
                },
                axisTick: {
                    show: false
                },
                position: 'bottom',
                offset: 20
            }],
        yAxis: [{
            type: 'value',
            name: '达成率（%）',
            axisTick: {
                show: false
            },
            axisLine: {
                lineStyle: {
                    color: '#0E2A43'
                }
            },
            axisLabel: {
                margin: 10,
                textStyle: {
                    fontSize: 14,
                    color: '#D5CBE8'
                }
            },
            splitLine: {
                show: false,
                lineStyle: {
                    color: '#57617B'
                }
            }
        }],
       toolbox: {        show: true,        feature: {            saveAsImage: {}        }    },series: [{
            name: 'west',
            type: 'line',
            smooth: true,
            stack: '总量',
            symbol: 'circle',
            symbolSize: 5,
            showSymbol: false,
            animationDelay: 2000,
            animationDuration: 1000,
            markPoint: {
                // symbol: 'image://url',
                data: [
                    {type: 'max', name: '最大值'}
                ],
                animationDelay: 3000,
                animationDuration: 1000
            },
            lineStyle: {
                normal: {
                    width: 1,
                    color: {
                        type: 'linear',
                        x: 0,
                        y: 0,
                        x2: 1,
                        y2: 0,
                        colorStops: [{
                            offset: 0, color: 'red' // 0% 处的颜色
                        }, {
                            offset: 1, color: 'grey' // 100% 处的颜色
                        }],
                        globalCoord: false // 缺省为 false
                    },
                    opacity: 0.9
                }
            },
            areaStyle: {
                normal: {
                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                        offset: 0,
                        color: 'rgba(137, 189, 27, 0.3)'
                    }, {
                        offset: 0.8,
                        color: 'rgba(137, 189, 27, 0)'
                    }], false),
                    shadowColor: 'rgba(0, 0, 0, 0.1)',
                    shadowBlur: 10
                }
            },
            itemStyle: {
                normal: {
                    color: 'rgb(137,189,27)',
                    borderColor: 'rgba(137,189,2,0.27)',
                    borderWidth: 12

                }
            },
            data: [20, 82, 91, 134, 50, 20, 10, 125, 145, 122, 165, 122]
        }, {
            name: 'east',
            type: 'line',
            smooth: true,
            symbol: 'circle',
            stack: '总量',
            symbolSize: 5,
            animationDelay: 1000,
            animationDuration: 1000,
            markPoint: {
                data: [
                    {type: 'max', name: '最大值'}
                ],
                animationDelay: 2000,
                animationDuration: 1000
            },
            showSymbol: false,
            lineStyle: {
                normal: {
                    width: 1,
                    color: {
                        type: 'linear',
                        x: 0,
                        y: 0,
                        x2: 1,
                        y2: 0,
                        colorStops: [{
                            offset: 0, color: 'red' // 0% 处的颜色
                        }, {
                            offset: 1, color: 'yellow' // 100% 处的颜色
                        }],
                        globalCoord: false // 缺省为 false
                    },
                    opacity: 0.9
                }
            },
            areaStyle: {
                normal: {
                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                        offset: 0,
                        color: 'rgba(0, 236, 212, 0.3)'
                    }, {
                        offset: 0.8,
                        color: 'rgba(0, 236, 212, 0)'
                    }], false),
                    shadowColor: 'rgba(0, 0, 0, 0.1)',
                    shadowBlur: 10
                }
            },
            itemStyle: {
                normal: {
                    color: 'rgb(0,136,212)',
                    borderColor: 'rgba(0,136,212,0.2)',
                    borderWidth: 12

                }
            },
            data: [120, 110, 125, 145, 122, 165, 122, 220, 282, 191, 134, 150]
        }, {
            name: 'south',
            type: 'line',
            stack: '总量',
            smooth: true,
            symbol: 'circle',
            symbolSize: 5,
            showSymbol: false,
            animationDelay: 0,
            animationDuration: 1000,
            markPoint: {
                data: [
                    {type: 'max', name: '最大值'}
                ],
                animationDelay: 1000,
                animationDuration: 1000
            },
            lineStyle: {
                normal: {
                    width: 1,
                    color: {
                        type: 'linear',
                        x: 0,
                        y: 0,
                        x2: 1,
                        y2: 0,
                        colorStops: [{
                            offset: 0, color: 'red' // 0% 处的颜色
                        }, {
                            offset: 1, color: 'yellowgreen' // 100% 处的颜色
                        }],
                        globalCoord: false // 缺省为 false
                    },
                    opacity: 0.9
                }
            },
            areaStyle: {
                normal: {
                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                        offset: 0,
                        color: 'rgba(219, 50, 51, 0.3)'
                    }, {
                        offset: 0.8,
                        color: 'rgba(219, 50, 51, 0)'
                    }], false),
                    shadowColor: 'rgba(0, 0, 0, 0.1)',
                    shadowBlur: 10
                }
            },
            itemStyle: {
                normal: {

                    color: 'rgb(219,50,51)',
                    borderColor: 'rgba(219,50,51,0.2)',
                    borderWidth: 12
                }
            },
            data: [220, 182, 325, 145, 122, 191, 134, 150, 120, 110, 165, 122]
        }, ]
    };

    var accountOption = {
        title:{
            text:'top经销商账期(月)',
            left:'left',
            textStyle:{
                color:'#fff'
            }
        },

        grid: {
            left: '3%',
            right: '4%',
            top:55,
            bottom: '10%',
            containLabel: true
        },

        tooltip: {
            show: "true",
            trigger: 'axis',
            axisPointer: { // 坐标轴指示器，坐标轴触发有效
                type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'
            }
        },
        xAxis: {
            type: 'value',
            axisTick: {
                show: true
            },
            axisLine: {
                show: true,
                lineStyle: {
                    color: '#fff',
                }
            },
            splitLine: {
                show: true
            },
        },
        yAxis: [{
            type: 'category',
            axisTick: {
                show: false
            },
            axisLine: {
                show: true,
                lineStyle: {
                    color: '#fff',
                }
            },data: distributordata
        }

        ],
       toolbox: {        show: true,        feature: {    myDownload: {
                   show: true,
                   title: '数据导出',
                   icon: 'image://http://localhost:8080/smbi/image/excel.svg',
                   onclick: function (){
                       alert('暂不支持');
                   }
               },        saveAsImage: {}        }    },series: [{
            name: '账期',
            type: 'bar',

            itemStyle: {
                normal: {
                    show: true,
                    color: '#277ace',
                    barBorderRadius: 50,
                    borderWidth: 0,
                    borderColor: '#333',
                }
            },
            barGap: '0%',
            barCategoryGap: '50%',
            data:accountdata
        }]

    };

    var inventorysOption = {
        title:{
            text:'top经销商库存天数',
            left:'left',
            textStyle:{
                color:'#fff'
            }
        },

        grid: {
            left: '3%',
            right: '4%',
            top:55,
            bottom: '10%',
            containLabel: true
        },

        tooltip: {
            show: "true",
            trigger: 'axis',
            axisPointer: { // 坐标轴指示器，坐标轴触发有效
                type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'
            }
        },
        xAxis: {
            type: 'value',
            axisTick: {
                show: true
            },
            axisLine: {
                show: true,
                lineStyle: {
                    color: '#fff',
                }
            },
            splitLine: {
                show: true
            },
        },
        yAxis: [{
            type: 'category',
            axisTick: {
                show: false
            },
            axisLine: {
                show: true,
                lineStyle: {
                    color: '#fff',
                }
            },data: distributordata
        }

        ],
       toolbox: {        show: true,        feature: {  myDownload: {
                   show: true,
                   title: '数据导出',
                   icon: 'image://http://localhost:8080/smbi/image/excel.svg',
                   onclick: function (){
                       alert('暂不支持');
                   }
               },          saveAsImage: {}        }    },series: [{
            name: '库存天数',
            type: 'bar',

            itemStyle: {
                normal: {
                    show: true,
                    color: '#277ace',
                    barBorderRadius: 50,
                    borderWidth: 0,
                    borderColor: '#333',
                }
            },
            barGap: '0%',
            barCategoryGap: '50%',
            data:inventorydata
        }]

    };

    $(document).ready(function () {
        var rightbottomchart = echarts.init(document.getElementById("scatter"));
        rightbottomchart.setOption(scatterOption);

    });
</script>

<body style="margin: 0;background:#f9f9f9;">

<div id="scatter" class="halflefttop"></div>

<div id="scattertable" class="halfleftbottom">
    <img src="../../../../img/pss.png" style="width: 100%;height: 100%">
</div>

<div id="pie" class="halfrighttop"><img src="../../../../img/payment.png"  style="width: 100%;height: 100%"></div>
</body>

</html>
